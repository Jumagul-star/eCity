{"ast":null,"code":"var _jsxFileName = \"/Users/friday/Desktop/e-city/src/components/products/ListItem.js\";\nimport React, { useEffect } from 'react';\nimport { Card, CardBody, ButtonGroup, Button } from 'reactstrap';\nimport styles from './Products.module.css';\nimport { useHistory, useParams } from 'react-router-dom';\nimport CartSvg from \"../../assets/icons/cart.svg\";\nimport { addItemToCart } from '../../redux/actions';\nimport { useState } from 'react';\nimport Axios from 'axios';\n\nfunction ListItem({\n  item\n}, props) {\n  const params = useParams();\n  const [data, setData] = useState(null);\n  const history = useHistory();\n\n  const isInCart = (item, cartItems) => {\n    return !!cartItems.find(a => a.slug === item.slug);\n  };\n\n  useEffect(() => {\n    // setLoading(true)\n    Axios.get(process.env.REACT_APP_API_URL + \"/api/products/\" + params.slug).then(({\n      data\n    }) => {\n      setData(data);\n    }).finally(() => {// setLoading(false)\n    });\n  }, [params.slug]);\n\n  const handleCartClick = e => {\n    e.stopPropagation();\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    onClick: () => history.replace(\"/products/\" + item.slug),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.imageContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.image,\n    alt: item.title,\n    src: item.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, item.title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, item.description), data ? /*#__PURE__*/React.createElement(ButtonGroup, {\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, item.price, \" $\"), isInCart(data, props.cartItems) ? /*#__PURE__*/React.createElement(Button, {\n    color: \"warning\",\n    onClick: () => props.removeItemFromCart(data.slug),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, \"Remove from cart\") : /*#__PURE__*/React.createElement(Button, {\n    onClick: () => addItemToCart(data),\n    color: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"ml-1\",\n    width: \"20\",\n    height: \"20\",\n    alt: \"cart\",\n    src: CartSvg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }))) : /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"Error 404: Product \", params.slug, \" is not defined\")));\n}\n\nexport default ListItem;","map":{"version":3,"sources":["/Users/friday/Desktop/e-city/src/components/products/ListItem.js"],"names":["React","useEffect","Card","CardBody","ButtonGroup","Button","styles","useHistory","useParams","addItemToCart","useState","Axios","ListItem","item","props","params","data","setData","history","isInCart","cartItems","find","a","slug","get","process","env","REACT_APP_API_URL","then","finally","handleCartClick","e","stopPropagation","replace","imageContainer","image","title","description","price","removeItemFromCart","CartSvg"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,WAAzB,EAAsCC,MAAtC,QAAoD,YAApD;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;;AAEA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,QAAT,CAAkB;AAAEC,EAAAA;AAAF,CAAlB,EAA4BC,KAA5B,EAAmC;AAC/B,QAAMC,MAAM,GAAGP,SAAS,EAAxB;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMQ,OAAO,GAAGX,UAAU,EAA1B;;AAEA,QAAMY,QAAQ,GAAG,CAACN,IAAD,EAAOO,SAAP,KAAqB;AAClC,WAAO,CAAC,CAACA,SAAS,CAACC,IAAV,CAAgBC,CAAD,IAAOA,CAAC,CAACC,IAAF,KAAWV,IAAI,CAACU,IAAtC,CAAT;AACH,GAFD;;AAGAtB,EAAAA,SAAS,CAAC,MAAM;AACZ;AACAU,IAAAA,KAAK,CAACa,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,gBAAhC,GAAmDZ,MAAM,CAACQ,IAApE,EACKK,IADL,CACU,CAAC;AAAEZ,MAAAA;AAAF,KAAD,KAAc;AAEhBC,MAAAA,OAAO,CAACD,IAAD,CAAP;AACH,KAJL,EAKKa,OALL,CAKa,MAAM,CACX;AACH,KAPL;AAQH,GAVQ,EAUN,CAACd,MAAM,CAACQ,IAAR,CAVM,CAAT;;AAYA,QAAMO,eAAe,GAAIC,CAAD,IAAK;AACzBA,IAAAA,CAAC,CAACC,eAAF;AACH,GAFD;;AAGA,sBACI,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAE,MAAMd,OAAO,CAACe,OAAR,CAAgB,eAAepB,IAAI,CAACU,IAApC,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAEjB,MAAM,CAAC4B,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAE5B,MAAM,CAAC6B,KAAvB;AAA8B,IAAA,GAAG,EAAEtB,IAAI,CAACuB,KAAxC;AAA+C,IAAA,GAAG,EAAEvB,IAAI,CAACsB,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKtB,IAAI,CAACuB,KAAV,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIvB,IAAI,CAACwB,WAAT,CALJ,EAMKrB,IAAI,gBACL,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBH,IAAI,CAACyB,KAA9B,OADJ,EAEKnB,QAAQ,CAACH,IAAD,EAAOF,KAAK,CAACM,SAAb,CAAR,gBACG,oBAAC,MAAD;AACA,IAAA,KAAK,EAAC,SADN;AAEA,IAAA,OAAO,EAAE,MAAIN,KAAK,CAACyB,kBAAN,CAAyBvB,IAAI,CAACO,IAA9B,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH,gBAQO,oBAAC,MAAD;AACI,IAAA,OAAO,EAAE,MAAId,aAAa,CAACO,IAAD,CAD9B;AAEI,IAAA,KAAK,EAAC,SAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AACI,IAAA,SAAS,EAAC,MADd;AAEI,IAAA,KAAK,EAAC,IAFV;AAGI,IAAA,MAAM,EAAC,IAHX;AAII,IAAA,GAAG,EAAC,MAJR;AAKI,IAAA,GAAG,EAAEwB,OALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAVZ,CADK,gBAyBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACwBzB,MAAM,CAACQ,IAD/B,oBA/BR,CADJ,CADJ;AAwCH;;AAED,eAAeX,QAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Card, CardBody, ButtonGroup, Button } from 'reactstrap';\r\nimport styles from './Products.module.css'\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport CartSvg from '../../assets/icons/cart.svg'\r\nimport { addItemToCart } from '../../redux/actions';\r\nimport { useState } from 'react';\r\nimport Axios from 'axios';\r\n\r\nfunction ListItem({ item }, props) {\r\n    const params = useParams();\r\n    const [data, setData] = useState(null);\r\n    const history = useHistory()\r\n\r\n    const isInCart = (item, cartItems) => {\r\n        return !!cartItems.find((a) => a.slug === item.slug);\r\n    }\r\n    useEffect(() => {\r\n        // setLoading(true)\r\n        Axios.get(process.env.REACT_APP_API_URL + \"/api/products/\" + params.slug)\r\n            .then(({ data }) => {\r\n\r\n                setData(data);\r\n            })\r\n            .finally(() => {\r\n                // setLoading(false)\r\n            })\r\n    }, [params.slug])\r\n\r\n    const handleCartClick = (e)=>{\r\n        e.stopPropagation()\r\n    }\r\n    return (\r\n        <Card onClick={() => history.replace(\"/products/\" + item.slug)}>\r\n            <CardBody>\r\n                <div className={styles.imageContainer}>\r\n                    <img className={styles.image} alt={item.title} src={item.image} />\r\n                </div>\r\n                <h5>{item.title}</h5>\r\n                <p>{item.description}</p>\r\n                {data ? (\r\n                <ButtonGroup className='w-100'>\r\n                    <Button color='primary'>{item.price} $</Button> \r\n                    {isInCart(data, props.cartItems) ? (\r\n                        <Button \r\n                        color=\"warning\"\r\n                        onClick={()=>props.removeItemFromCart(data.slug)}\r\n                        >\r\n                            Remove from cart\r\n                        </Button>\r\n                    ) : (\r\n                            <Button \r\n                                onClick={()=>addItemToCart(data)}\r\n                                color='success'>\r\n                                <img\r\n                                    className=\"ml-1\"\r\n                                    width=\"20\"\r\n                                    height=\"20\"\r\n                                    alt=\"cart\"\r\n                                    src={CartSvg} />\r\n                            </Button>\r\n                    )}\r\n                </ButtonGroup>\r\n\r\n                ) : (\r\n                    <h4>\r\n                        Error 404: Product {params.slug} is not defined\r\n                    </h4>\r\n                )}\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default ListItem\r\n"]},"metadata":{},"sourceType":"module"}