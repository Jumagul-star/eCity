{"ast":null,"code":"import { ADD_ITEM_TO_CART, REMOVE_ITEM_FROM_CART } from \"./constants\";\nconst INIT_STATE = {\n  cartItems: JSON.parse(localStorage.getItem('cart')) || [],\n  modalIsOpen: false\n};\n\nconst CartReducer = (state = INIT_STATE, action) => {\n  switch (action.type) {\n    case ADD_ITEM_TO_CART:\n      if (true) {\n        const cartItems = [...state.cartItems, action.payload];\n        localStorage.setItem(\"cart\", JSON.stringify(cartItems));\n        return { ...state,\n          cartItems\n        };\n      }\n\n    case REMOVE_ITEM_FROM_CART:\n      if (true) {\n        const cartItems = [...state.cartItems];\n        const index = cartItems.findIndex(item => item.slug === action.payload);\n\n        if (index !== -1) {\n          cartItems.splice(index, 1);\n          localStorage.setItem(\"cart\", JSON.stringify(cartItems));\n          return { ...state,\n            cartItems\n          };\n        }\n      }\n\n      break;\n\n    default:\n      return state;\n  }\n};\n\nexport default CartReducer;","map":{"version":3,"sources":["/Users/friday/Desktop/e-city/src/redux/cart/reducers.js"],"names":["ADD_ITEM_TO_CART","REMOVE_ITEM_FROM_CART","INIT_STATE","cartItems","JSON","parse","localStorage","getItem","modalIsOpen","CartReducer","state","action","type","payload","setItem","stringify","index","findIndex","item","slug","splice"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,qBAA3B,QAAwD,aAAxD;AAEA,MAAMC,UAAU,GAAG;AACfC,EAAAA,SAAS,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,EADxC;AAEfC,EAAAA,WAAW,EAAE;AAFE,CAAnB;;AAKA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAACR,UAAP,EAAmBS,MAAnB,KAA4B;AAC5C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKZ,gBAAL;AACI,UAAG,IAAH,EAAQ;AACJ,cAAMG,SAAS,GAAG,CAAC,GAAGO,KAAK,CAACP,SAAV,EAAqBQ,MAAM,CAACE,OAA5B,CAAlB;AACAP,QAAAA,YAAY,CAACQ,OAAb,CAAqB,MAArB,EAA6BV,IAAI,CAACW,SAAL,CAAeZ,SAAf,CAA7B;AACA,eAAO,EAAC,GAAGO,KAAJ;AAAWP,UAAAA;AAAX,SAAP;AACH;;AAEL,SAAKF,qBAAL;AACI,UAAG,IAAH,EAAQ;AACJ,cAAME,SAAS,GAAG,CAAC,GAAGO,KAAK,CAACP,SAAV,CAAlB;AACA,cAAMa,KAAK,GAAGb,SAAS,CAACc,SAAV,CAAqBC,IAAD,IAAQA,IAAI,CAACC,IAAL,KAAcR,MAAM,CAACE,OAAjD,CAAd;;AACA,YAAGG,KAAK,KAAK,CAAC,CAAd,EAAgB;AACZb,UAAAA,SAAS,CAACiB,MAAV,CAAiBJ,KAAjB,EAAwB,CAAxB;AACAV,UAAAA,YAAY,CAACQ,OAAb,CAAqB,MAArB,EAA6BV,IAAI,CAACW,SAAL,CAAeZ,SAAf,CAA7B;AACA,iBAAO,EAAC,GAAGO,KAAJ;AAAWP,YAAAA;AAAX,WAAP;AACH;AACJ;;AAAA;;AAEL;AACI,aAAOO,KAAP;AApBR;AAsBH,CAvBD;;AAwBA,eAAeD,WAAf","sourcesContent":["import { ADD_ITEM_TO_CART, REMOVE_ITEM_FROM_CART } from \"./constants\";\r\n\r\nconst INIT_STATE = {\r\n    cartItems: JSON.parse(localStorage.getItem('cart')) || [],\r\n    modalIsOpen: false\r\n}\r\n\r\nconst CartReducer = (state=INIT_STATE, action)=>{\r\n    switch(action.type){\r\n        case ADD_ITEM_TO_CART:\r\n            if(true){\r\n                const cartItems = [...state.cartItems, action.payload];\r\n                localStorage.setItem(\"cart\", JSON.stringify(cartItems));\r\n                return {...state, cartItems}\r\n            }\r\n        \r\n        case REMOVE_ITEM_FROM_CART:\r\n            if(true){\r\n                const cartItems = [...state.cartItems];\r\n                const index = cartItems.findIndex((item)=>item.slug === action.payload);\r\n                if(index !== -1){\r\n                    cartItems.splice(index, 1);\r\n                    localStorage.setItem(\"cart\", JSON.stringify(cartItems));\r\n                    return {...state, cartItems}\r\n                }\r\n            }break\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default CartReducer;"]},"metadata":{},"sourceType":"module"}