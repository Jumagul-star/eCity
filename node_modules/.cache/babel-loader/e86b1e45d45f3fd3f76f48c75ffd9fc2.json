{"ast":null,"code":"var _jsxFileName = \"/Users/friday/Desktop/e-city/src/pages/auth/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Input, Button, ButtonGroup, Label, Row, Col, Card, CardBody } from 'reactstrap';\nimport { useHistory, Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../redux/actions';\n\nfunction Login(props) {\n  var _props$err, _props$err$response, _props$err$response$d;\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const history = useHistory();\n\n  const handleSumbit = e => {\n    e.preventDefault(); // if(email === 'demo@demo.com' && password === 'demo') {\n    //     localStorage.setItem('token', `${email}.${password}`)\n    //     history.replace('/')\n    // }\n\n    props.loginUser({\n      email,\n      password\n    }, history);\n  }; // const handleRegister = () => {\n  //     history.replace('/auth/register')\n  // }\n\n\n  const {\n    clearError\n  } = props;\n  useEffect(() => {\n    clearError();\n  }, [clearError]);\n\n  if (localStorage.getItem('token')) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: '#e5e5e5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      height: '100vh'\n    },\n    className: \"justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"shadow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSumbit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 37\n    }\n  }, \"Login\"), (props === null || props === void 0 ? void 0 : props.err) && (props === null || props === void 0 ? void 0 : (_props$err = props.err) === null || _props$err === void 0 ? void 0 : (_props$err$response = _props$err.response) === null || _props$err$response === void 0 ? void 0 : (_props$err$response$d = _props$err$response.data) === null || _props$err$response$d === void 0 ? void 0 : _props$err$response$d.message) && /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 41\n    }\n  }, \"Error: \", props.err.response.data.message), /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"email\",\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 37\n    }\n  }, \"Enter your Email:\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"password\",\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  }, \"Enter your password:\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(ButtonGroup, {\n    className: \" w-100 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      'backgroundColor': '#6CB3F5',\n      'color': 'black'\n    },\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 41\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 41\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 33\n    }\n  }, \"Don't have an account? \", \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/auth/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  }, \"Sign Up\"))))))));\n}\n\nconst mapStateToProps = state => {\n  const {\n    isAuth,\n    loading,\n    err\n  } = state.AuthReducer;\n  return {\n    isAuth,\n    loading,\n    err\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginUser: ({\n      email,\n      password\n    }, history) => {\n      dispatch(loginUser({\n        email,\n        password\n      }, history));\n    },\n    clearError: () => dispatch({\n      type: 'CLEAR_ERROR'\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/friday/Desktop/e-city/src/pages/auth/Login.js"],"names":["React","useState","useEffect","Container","Input","Button","ButtonGroup","Label","Row","Col","Card","CardBody","useHistory","Link","Redirect","connect","loginUser","Login","props","email","setEmail","password","setPassword","history","handleSumbit","e","preventDefault","clearError","localStorage","getItem","backgroundColor","height","err","response","data","message","target","value","mapStateToProps","state","isAuth","loading","AuthReducer","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Container, Input, Button, ButtonGroup, Label, Row, Col, Card, CardBody } from 'reactstrap'\nimport { useHistory, Link, Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../redux/actions';\n\nfunction Login(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const history = useHistory();\n    const handleSumbit = (e) => {\n        e.preventDefault();\n        // if(email === 'demo@demo.com' && password === 'demo') {\n        //     localStorage.setItem('token', `${email}.${password}`)\n        //     history.replace('/')\n        // }\n        props.loginUser({ email, password }, history);\n    }\n\n    // const handleRegister = () => {\n    //     history.replace('/auth/register')\n    // }\n    const {clearError} = props;\n    useEffect(()=>{\n        clearError()\n    }, [clearError])\n\n    if(localStorage.getItem('token'))  {\n        return <Redirect to='/' />\n    }\n\n    return (\n        <div style={{backgroundColor: '#e5e5e5'}}>\n            <Container>\n                <Row\n                    style={{height:'100vh'}}\n                    className='justify-content-center align-items-center'>\n                    <Col md={6}>\n                        <Card className=\"shadow\">\n                            <CardBody>\n                                <form onSubmit={handleSumbit}>\n                                    <h2>Login</h2>\n                                    {props?.err && props?.err?.response?.data?.message && (\n                                        <h4 className='text-danger'>\n                                            Error: {props.err.response.data.message}\n                                        </h4>\n                                    )}\n                                    <Label htmlFor='email' className=\"mt-3\">\n                                        Enter your Email:\n                                    </Label>\n                                    <Input\n                                        id='email'\n                                        name='email'\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                    />\n                                    <Label htmlFor='password' className=\"mt-3\">\n                                        Enter your password:\n                                    </Label>\n                                    <Input\n                                        id='password'\n                                        name='password'\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)}\n                                    />\n                                    <ButtonGroup className=' w-100 mt-3'>\n                                        <Button style={{\n                                            'backgroundColor': '#6CB3F5',\n                                            'color': 'black'\n                                        }}\n                                            type='submit'\n                                        >Submit\n                                    </Button>\n                                        <Button type='reset'>Cancel</Button>\n                                    </ButtonGroup>\n                                </form>\n                                {/* <form className='col-md-6' style={{ 'backgroundColor': '#6CB3F5' }}>\n                                    <h2>Sign Up</h2>\n                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n                                    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n                                    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi\n                                    ut aliquip ex ea commodo consequat.</p>\n                                    <Link>\n                                        <Button\n                                            onClick={handleRegister}\n                                            className='mb-3 bg-light text-dark'>\n                                            Register Now\n                                    </Button>\n                                    </Link>\n                                </form> */}\n                                <p className=\"text-center mt-3\">Don't have an account? {\" \"}\n                                    <Link to=\"/auth/register\">Sign Up</Link>\n                                </p>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n\n            </Container>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    const { isAuth, loading, err } = state.AuthReducer;\n    return { isAuth, loading, err }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        loginUser: ({ email, password }, history) => {\n            dispatch(loginUser(\n                { email, password },\n                history\n            )\n            )\n        },\n        clearError: ()=>dispatch({\n            type: 'CLEAR_ERROR'\n        })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n"]},"metadata":{},"sourceType":"module"}