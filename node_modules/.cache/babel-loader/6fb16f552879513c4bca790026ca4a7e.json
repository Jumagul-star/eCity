{"ast":null,"code":"var _jsxFileName = \"/Users/friday/Desktop/e-city/src/pages/auth/Register.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Input, Button, ButtonGroup, Label, Row, Col, Card, CardBody } from 'reactstrap';\nimport { useHistory, Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { regUser } from '../../redux/actions';\n\nfunction Register(props) {\n  var _props$err, _props$err$response, _props$err$response$d, _props$err$response$d2;\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n  const history = useHistory();\n\n  const handleSumbit = e => {\n    e.preventDefault();\n\n    if (password !== repeatPassword) {\n      props.setErr('Password does not match');\n      return;\n    }\n\n    props.regUser({\n      email,\n      password\n    }, history);\n  };\n\n  const {\n    clearError\n  } = props;\n  useEffect(() => {\n    clearError();\n  }, [clearError]);\n\n  if (localStorage.getItem('token')) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: '#e5e5e5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      height: '100vh'\n    },\n    className: \"justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"shadow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSumbit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 37\n    }\n  }, \"Register\"), (props === null || props === void 0 ? void 0 : props.err) && (props === null || props === void 0 ? void 0 : (_props$err = props.err) === null || _props$err === void 0 ? void 0 : (_props$err$response = _props$err.response) === null || _props$err$response === void 0 ? void 0 : (_props$err$response$d = _props$err$response.data) === null || _props$err$response$d === void 0 ? void 0 : _props$err$response$d.message) && /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 41\n    }\n  }, \"Error: \", (_props$err$response$d2 = props.err.response.data) === null || _props$err$response$d2 === void 0 ? void 0 : _props$err$response$d2.message), /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"email\",\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 37\n    }\n  }, \"Enter your Email:\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"password\",\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }, \"Enter your password:\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    patter: \"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\\\.[a-zA-Z0-9-.]+$\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"repeat_password\",\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 37\n    }\n  }, \"Repeat your password:\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"repeat_password\",\n    name: \"repeat_password\",\n    value: repeatPassword,\n    onChange: e => setRepeatPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(ButtonGroup, {\n    className: \" w-100 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      'backgroundColor': '#6CB3F5',\n      'color': 'black'\n    },\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 41\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 41\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }\n  }, \"Already have an account? \", \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/auth/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 37\n    }\n  }, \"Sign In\"))))))));\n}\n\nconst mapStateToProps = state => {\n  const {\n    isAuth,\n    loading,\n    err\n  } = state.AuthReducer;\n  return {\n    isAuth,\n    loading,\n    err\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    regUser: ({\n      email,\n      password\n    }, history) => {\n      dispatch(regUser({\n        email,\n        password\n      }, history));\n    },\n    setErr: message => dispatch({\n      type: \"REGISTER_USER_FAILED\",\n      payload: {\n        response: {\n          data: {\n            message\n          }\n        }\n      }\n    }),\n    clearError: () => dispatch({\n      type: 'CLEAR_ERROR'\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);","map":{"version":3,"sources":["/Users/friday/Desktop/e-city/src/pages/auth/Register.js"],"names":["React","useState","useEffect","Container","Input","Button","ButtonGroup","Label","Row","Col","Card","CardBody","useHistory","Link","Redirect","connect","regUser","Register","props","email","setEmail","password","setPassword","repeatPassword","setRepeatPassword","history","handleSumbit","e","preventDefault","setErr","clearError","localStorage","getItem","backgroundColor","height","err","response","data","message","target","value","mapStateToProps","state","isAuth","loading","AuthReducer","mapDispatchToProps","dispatch","type","payload"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Container, Input, Button, ButtonGroup, Label, Row, Col, Card, CardBody } from 'reactstrap'\nimport { useHistory, Link, Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { regUser } from '../../redux/actions';\n\nfunction Register(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [repeatPassword, setRepeatPassword] = useState('')\n    const history = useHistory();\n    const handleSumbit = (e) => {\n        e.preventDefault();\n        if(password !== repeatPassword){\n            props.setErr('Password does not match')\n            return;\n        }\n        props.regUser({ email, password }, history);\n    }\n    const {clearError} = props;\n    useEffect(()=>{\n        clearError()\n    }, [clearError])\n\n    if(localStorage.getItem('token'))  {\n        return <Redirect to='/' />\n    }\n\n    return (\n        <div style={{backgroundColor: '#e5e5e5'}}>\n            <Container>\n                <Row\n                    style={{height:'100vh'}}\n                    className='justify-content-center align-items-center'>\n                    <Col md={6}>\n                        <Card className=\"shadow\">\n                            <CardBody>\n                                <form onSubmit={handleSumbit}>\n                                    <h2>Register</h2>\n                                    {props?.err && props?.err?.response?.data?.message && (\n                                        <h4 className='text-danger'>\n                                            Error: {props.err.response.data?.message\n                                            }\n                                        </h4>\n                                    )}\n                                    <Label htmlFor='email' className=\"mt-3\">\n                                        Enter your Email:\n                                    </Label>\n                                    \n                                    <Input\n                                        id='email'\n                                        name='email'\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                    />\n                                    <Label htmlFor='password' className=\"mt-3\">\n                                        Enter your password:\n                                    </Label>\n                                    <Input\n                                        id='password'\n                                        name='password'\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)}\n                                        patter=\"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$\"\n                                    />\n                                    <Label htmlFor='repeat_password' className=\"mt-3\">\n                                        Repeat your password:\n                                    </Label>\n                                    <Input\n                                        id='repeat_password'\n                                        name='repeat_password'\n                                        value={repeatPassword}\n                                        onChange={(e) =>setRepeatPassword(e.target.value)}\n                                    />\n                                    <ButtonGroup className=' w-100 mt-3'>\n                                        <Button style={{\n                                            'backgroundColor': '#6CB3F5',\n                                            'color': 'black'\n                                        }}\n                                            type='submit'\n                                            >Submit\n                                        </Button>\n                                        <Button type='reset'>Cancel</Button>\n                                    </ButtonGroup>\n                                </form>\n                                <p className=\"text-center mt-3\">Already have an account? {\" \"}\n                                    <Link to=\"/auth/login\">Sign In</Link>\n                                </p>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n\n            </Container>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    const { isAuth, loading, err } = state.AuthReducer;\n    return { isAuth, loading, err }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        regUser: ({ email, password }, history) => {\n            dispatch(regUser(\n                { email, password },\n                history\n            )\n            )\n        },\n        setErr: (message)=>dispatch({\n            type: \"REGISTER_USER_FAILED\",\n            payload: {response:{data:{message}}}\n        }),\n        clearError: ()=>dispatch({\n            type: 'CLEAR_ERROR'\n        })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register)\n"]},"metadata":{},"sourceType":"module"}