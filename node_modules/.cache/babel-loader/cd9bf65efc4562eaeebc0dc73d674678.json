{"ast":null,"code":"var _jsxFileName = \"/Users/friday/Desktop/e-city/src/components/products/ListItem.js\";\nimport React from 'react';\nimport { Card, CardBody, ButtonGroup, Button } from 'reactstrap';\nimport styles from './Products.module.css';\nimport CartSvg from \"../../assets/icons/cart.svg\";\nimport { addItemToCart, removeItemFromCart } from '../../redux/actions';\nimport { connect } from 'react-redux';\nimport { useHistory, Redirect } from 'react-router-dom';\n\nfunction ListItem({\n  item,\n  id,\n  ...props\n}) {\n  const history = useHistory();\n\n  const isInCart = (item, cartItems) => {\n    return !!cartItems.find(a => a.slug === item.slug);\n  };\n\n  const handleCartClick = (e, item) => {\n    e.stopPropagation();\n    props.addItemToCart(item);\n\n    if (localStorage.getItem('token')) {\n      history.replace('/order');\n    }\n  };\n\n  const handleRemove = (e, slug) => {\n    e.stopPropagation();\n    props.removeItemFromCart(slug);\n  }; // if(localStorage.setItem('token')) {\n  //     return <Redirect to='/order'/>\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    onClick: () => history.replace(\"/products/\" + item.slug),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.imageContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.image,\n    alt: item.title,\n    src: item.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, item.title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, item.description), /*#__PURE__*/React.createElement(ButtonGroup, {\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, item.price, \" $\"), isInCart(item, props.cartItems) ? /*#__PURE__*/React.createElement(Button, {\n    color: \"warning\",\n    onClick: e => handleRemove(e, item.slug),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, \"Remove from cart\") : /*#__PURE__*/React.createElement(Button, {\n    onClick: e => handleCartClick(e, item),\n    color: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"ml-1\",\n    width: \"20\",\n    height: \"20\",\n    alt: \"cart\",\n    src: CartSvg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  }))))));\n}\n\nconst mapStateToProps = state => state.CartReducer;\n\nexport default connect(mapStateToProps, {\n  addItemToCart,\n  removeItemFromCart\n})(ListItem);","map":{"version":3,"sources":["/Users/friday/Desktop/e-city/src/components/products/ListItem.js"],"names":["React","Card","CardBody","ButtonGroup","Button","styles","addItemToCart","removeItemFromCart","connect","useHistory","Redirect","ListItem","item","id","props","history","isInCart","cartItems","find","a","slug","handleCartClick","e","stopPropagation","localStorage","getItem","replace","handleRemove","imageContainer","image","title","description","price","CartSvg","mapStateToProps","state","CartReducer"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Card, CardBody, ButtonGroup, Button } from 'reactstrap';\r\nimport styles from './Products.module.css'\r\nimport CartSvg from '../../assets/icons/cart.svg'\r\nimport { addItemToCart, removeItemFromCart } from '../../redux/actions';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory, Redirect } from 'react-router-dom';\r\n\r\nfunction ListItem({item, id, ...props}) {\r\n    const history = useHistory()\r\n\r\n    const isInCart = (item, cartItems) => {\r\n        return !!cartItems.find((a) => a.slug === item.slug);\r\n    }\r\n\r\n    const handleCartClick = (e, item)=>{\r\n        e.stopPropagation()\r\n        props.addItemToCart(item)\r\n        if (localStorage.getItem('token')) {\r\n            history.replace('/order')\r\n        }\r\n    }\r\n\r\n    const handleRemove = (e, slug) => {\r\n        e.stopPropagation()\r\n        props.removeItemFromCart(slug)\r\n    }\r\n\r\n    // if(localStorage.setItem('token')) {\r\n    //     return <Redirect to='/order'/>\r\n    // }\r\n    return (\r\n        <div>\r\n            <Card onClick={() => history.replace(\"/products/\" + item.slug)}>\r\n                <CardBody>\r\n                    <div className={styles.imageContainer}>\r\n                        <img className={styles.image} alt={item.title} src={item.image} />\r\n                    </div>\r\n                    <h5>{item.title}</h5>\r\n                    <p>{item.description}</p>\r\n                    <ButtonGroup className='w-100'>\r\n                        <Button color='primary'>{item.price} $</Button> \r\n                        {isInCart(item, props.cartItems) ? (\r\n                            <Button \r\n                            color=\"warning\"\r\n                            onClick={(e)=>handleRemove(e, item.slug)}\r\n                            >\r\n                                Remove from cart\r\n                            </Button>\r\n                        ) : (\r\n                            <Button \r\n                                onClick={(e)=>handleCartClick(e, item)}\r\n                                color='success'>\r\n                                <img\r\n                                    className=\"ml-1\"\r\n                                    width=\"20\"\r\n                                    height=\"20\"\r\n                                    alt=\"cart\"\r\n                                    src={CartSvg} />\r\n                            </Button>\r\n                        )}\r\n                    </ButtonGroup>\r\n                </CardBody>\r\n            </Card>\r\n        </div>\r\n        )\r\n    }\r\n\r\nconst mapStateToProps = state => state.CartReducer;\r\n\r\n\r\nexport default connect(mapStateToProps, {addItemToCart, removeItemFromCart})(ListItem)\r\n"]},"metadata":{},"sourceType":"module"}